<div class="min-h-screen w-full flex items-center justify-center p-4 bg-black bg-opacity-30">
  <div class="bg-[#f4f0e8]/95 backdrop-blur-sm rounded-xl shadow-2xl p-8 max-w-2xl w-full text-zinc-800 transform transition-all duration-500">

    <header class="text-center mb-6">
      <svg class="w-16 h-16 mx-auto mb-2 text-[#ffa400]" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M32 58C46.3594 58 58 46.3594 58 32C58 17.6406 46.3594 6 32 6C17.6406 6 6 17.6406 6 32C6 46.3594 17.6406 58 32 58Z" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"/>
        <path d="M32 48C40.8359 48 48 40.8359 48 32C48 23.1641 40.8359 16 32 16C23.1641 16 16 23.1641 16 32C16 40.8359 23.1641 48 32 48Z" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"/>
        <path d="M32 16V32L42 42" stroke="currentColor" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M22 32H32" stroke="currentColor" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      <h1 class="font-slab text-4xl sm:text-5xl font-bold tracking-wide">
        <span class="text-[#ff595a]">LABI</span><span class="text-[#ffa400]">RINTAR</span>
      </h1>
      <p class="text-zinc-600 mt-1">Lugar de Fazer e Ser</p>
    </header>

    @switch (submissionState()) {
      @case ('selecting') {
        <div class="text-center animate-fade-in">
          <h2 class="text-xl font-bold text-zinc-700 mb-4">Formulário Diagnóstico</h2>
          <p class="mb-6 text-zinc-600">Por favor, selecione a experiência que deseja avaliar.</p>
          <div class="flex flex-col sm:flex-row gap-4 justify-center">
            @for (exp of experiences(); track exp) {
              <button (click)="selectExperience(exp)" class="w-full sm:w-auto text-white font-bold py-3 px-6 rounded-lg bg-[#ff595a] hover:bg-opacity-90 transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-1">
                {{ exp }}
              </button>
            }
          </div>
        </div>
      }

      @case ('filling') {
        <div class="space-y-6 animate-fade-in">
          <h2 class="text-center text-xl font-bold text-zinc-700">Avaliação da Experiência: <span class="text-[#ff595a]">{{ selectedExperience() }}</span></h2>
          
          <div class="space-y-2">
            <label for="nps-slider" class="block font-bold text-zinc-700">De 0 a 10, quanto você recomendaria esta experiência?</label>
            <div class="flex items-center gap-4">
              <input id="nps-slider" type="range" min="0" max="10" [value]="rating()" (input)="updateRating($event)" class="w-full h-2 rounded-lg appearance-none cursor-pointer" />
              <span class="font-slab text-2xl font-bold text-[#ffa400] w-10 text-center">{{ rating() }}</span>
            </div>
          </div>
          
          @if (showReason()) {
            <div class="space-y-2 animate-fade-in">
              <label for="reason" class="block font-bold text-zinc-700">Por que não 10?</label>
              <textarea id="reason" rows="3" [value]="reason()" (input)="reason.set($any($event.target).value)" class="w-full p-3 bg-white/60 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#ffa400] focus:border-[#ffa400] transition"></textarea>
            </div>
          }

          <div class="space-y-2">
            <label for="feedback" class="block font-bold text-zinc-700">
              Deixe aqui outras impressões e percepções sobre essa vivência.
              <span class="font-normal text-sm text-zinc-500 block">(Opcional: O que você viu, sentiu ou aprendeu junto com as crianças?)</span>
            </label>
            <textarea id="feedback" rows="4" [value]="feedback()" (input)="feedback.set($any($event.target).value)" class="w-full p-3 bg-white/60 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#ffa400] focus:border-[#ffa400] transition"></textarea>
          </div>

          <div class="flex justify-end pt-4">
            <button (click)="submitFeedback()" class="text-white font-bold py-3 px-8 rounded-lg bg-[#ffa400] hover:bg-opacity-90 transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-1">
              Enviar Avaliação
            </button>
          </div>
        </div>
      }

      @case ('submitted') {
        <div class="text-center space-y-6 animate-fade-in py-8">
          <h2 class="font-slab text-3xl font-bold text-[#ff595a]">Obrigado!</h2>
          <p class="text-lg text-zinc-700">Seu feedback foi recebido com sucesso e é muito valioso para nós.</p>
          <button (click)="reset()" class="mt-4 text-white font-bold py-3 px-6 rounded-lg bg-[#ff595a] hover:bg-opacity-90 transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-1">
            Fazer Outra Avaliação
          </button>
        </div>
      }
    }
  </div>
</div>
